{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "$id": "substack-doc.schema.json",
  "title": "Substack Document Record",
  "type": "object",
  "required": ["schemaVersion", "docId", "docKey", "file", "relativePath"],
  "properties": {
    "schemaVersion": {"type": "string"},
    "docId": {"type": "string", "pattern": "^sha256:[0-9a-f]{64}$"},
    "docKey": {"type": "string", "pattern": "^substack:.*$"},
    "file": {"type": "string"},
    "relativePath": {"type": "string"},
    "title": {"type": "string"},
    "date": {"type": "string", "pattern": "^[0-9]{4}-[0-9]{2}-[0-9]{2}$"},
    "sourceUrl": {"type": "string"},
    "status": {"type": "string", "enum": ["active", "deprecated"]},
    "topTerms": {"type": "array", "items": {"type": "string"}},
    "headings": {"type": "array"}
  }
}
