{
	"$schema": "http://json-schema.org/draft-07/schema#",
	"title": "P4NTH30N Credential Configuration",
	"description": "Schema for credential configuration validation in the P4NTH30N system.",
	"type": "object",
	"required": ["username", "platform", "house", "thresholds", "enabled"],
	"properties": {
		"username": {
			"type": "string",
			"minLength": 1,
			"maxLength": 50,
			"pattern": "^[a-zA-Z0-9_.-]+$",
			"description": "Player username. Alphanumeric, underscores, dots, and hyphens only."
		},
		"platform": {
			"type": "string",
			"enum": ["firekirin", "orionstars", "gamereel", "vegasx", "pandamaster"],
			"description": "Target casino platform identifier."
		},
		"house": {
			"type": "string",
			"minLength": 1,
			"maxLength": 100,
			"description": "House/location identifier."
		},
		"thresholds": {
			"type": "object",
			"required": ["Grand", "Major", "Minor", "Mini"],
			"properties": {
				"Grand": {
					"type": "number",
					"minimum": 1,
					"maximum": 100000,
					"description": "Grand jackpot threshold. Must be highest."
				},
				"Major": {
					"type": "number",
					"minimum": 1,
					"maximum": 50000,
					"description": "Major jackpot threshold."
				},
				"Minor": {
					"type": "number",
					"minimum": 1,
					"maximum": 10000,
					"description": "Minor jackpot threshold."
				},
				"Mini": {
					"type": "number",
					"minimum": 1,
					"maximum": 5000,
					"description": "Mini jackpot threshold. Must be lowest."
				}
			},
			"additionalProperties": false
		},
		"enabled": {
			"type": "boolean",
			"description": "Whether this credential is active."
		},
		"dpd": {
			"type": "object",
			"properties": {
				"WindowHours": {
					"type": "number",
					"minimum": 1,
					"maximum": 168,
					"description": "DPD calculation window in hours (max 7 days)."
				},
				"MinSamples": {
					"type": "integer",
					"minimum": 5,
					"maximum": 1000,
					"description": "Minimum sample count for DPD calculation."
				}
			},
			"additionalProperties": false
		},
		"timeoutSeconds": {
			"type": "integer",
			"minimum": 1,
			"maximum": 300,
			"description": "Operation timeout in seconds."
		},
		"maxRetries": {
			"type": "integer",
			"minimum": 0,
			"maximum": 10,
			"description": "Maximum retry attempts for failed operations."
		},
		"balanceMinimum": {
			"type": "number",
			"minimum": 0,
			"description": "Minimum balance threshold before stopping automation."
		}
	},
	"additionalProperties": true
}
